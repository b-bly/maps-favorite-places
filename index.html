<!DOCTYPE html>
<html>

<head>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
    <script src="config.js"></script>
    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/ngmap/build/scripts/ng-map.min.js"></script>

    <!-- async defer -->
    <script src="https://maps.googleapis.com/maps/api/js?">
    </script>
    <script src="script.js"></script>
</head>

<body ng-app="myApp" ng-controller="myController as vm">
    <h3>My Google Maps Demo</h3>
    <!-- <div id="map"></div> -->
    <div map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params="{{vm.googleMapsUrl}}">
        <div>Markers: {{ vm.cities.list[0].pos }}</div>

        <!-- ng-map center="{{vm.marker.position.lat}}, {{vm.marker.position.lng}}"  problem is that this 
        doesn't include all of the markers then -->
        <ng-map id="map"  zoom-to-include-markers="true" zoom="11" geo-fallback-center="[40.74, -74.18]">
            <marker ng-repeat="place in vm.cities.list" position="{{place.pos}}" on-click=""></marker>

        </ng-map>
    </div>

</body>

</html>